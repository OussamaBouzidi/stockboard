<div class="row">
  <div class="col-md-2">
    <div class="card">
      <div class="card-image text-center">
        <img class="col-md-8 col-md-offset-2" src="{{userData.pictureUrl}}" alt="">
        <span class="card-title">{{userData.displayName}}</span>
      </div>
      <div class="card-content text-center">
        <p class="dashboard-content">{{userData.email}}</p>
      </div>
      <hr width="90%">
      <div class="card-action text-center">
        <p class="dashboard-content">Total Expenditure:</p>
        <p class="dashboard-content">{{totalExpenditure}}</p>
        <a href="#" target="new_blank">Link</a>
      </div>
    </div>
  </div>
  <div class="col-md-10">
    <h4 class="dashboard-content">Purchased</h4>
    <table class="table profile-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Symbol</th>
          <th>Price</th>
          <th>Shares</th>
          <th>Total</th>
          <th>Status</th>
          <th>Edit</th>
          <th>Delete</th>
          <th>Sell</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="stockPurchased in stocksPurchased">
          <td>{{stockPurchased.name}}</td>
          <td>{{stockPurchased.symbol}}</td>
          <td>{{stockPurchased.priceBought.toFixed(2)}}</td>
          <td>{{stockPurchased.shares}}</td>
          <td>{{stockPurchased.priceBought.toFixed(2) * stockPurchased.shares}}</td>
          <td>{{stockPurchased.status}}</td>
          <td><button class="btn btn-edit" data-toggle="modal" data-target="#editPurchasedModal">Edit</button></td>
          <td><button class="btn btn-delete" ng-click="deleteStockPurchase(stockPurchased._id)">Delete</button></td>
          <td><button class="btn btn-sell" data-toggle="modal" data-target="#sellModal">Sell</button></td>
        </tr>
      </tbody>
    </table>
    <div class="row">
      <div class="col-md-6">
        <h4 class="dashboard-content">Purchased Stocks</h4> 
        <div class="col-md-12 graph-card">
          <accordion close-others="false">
            <accordion-group heading="{{stockPurchased.name}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{stockPurchased.symbol}}" ng-repeat="stockPurchased in stocksPurchased">
              <div>
                <p><strong>Shares: </strong>{{stockPurchased.shares}}</p>
                <button class="btn btn-sm btn-edit">Edit</button>
              </div>
              <p><strong>Price Bought: </strong>{{stockPurchased.priceBought.toFixed(2)}}</p>
              <button class="btn btn-sm btn-sell">Sell</button>
              <p><strong>Total: </strong>{{stockPurchased.priceBought.toFixed(2) * stockPurchased.shares}}</p>
              <button class="btn btn-sm btn-delete">Delete</button>
            </accordion-group>
          </accordion>      
        </div>
      </div>
      <div class="col-md-6"> 
        <h4 class="dashboard-content">Sold Stocks</h4> 
        <div class="col-md-12 graph-card">
          <accordion close-others="false">
            <accordion-group heading="{{stockPurchased.name}}" ng-repeat="stockPurchased in stocksPurchased">
              {{}}
            </accordion-group>
          </accordion>      
        </div>
      </div>    
    </div>
  </div>
</div>
<div class="modal fade" id="editPurchasedModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" ng-click="modalClose()">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h3 class="text-center">Edit Purchased Form</h3>
        <form action="" class="form-group">
          <div class="input-group">
            <span class="input-group-addon">Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <input type="text" class="form-control" ng-model="stockPurchasedUpdate.name" required placeholder="Name">
          </div>
          <div class="input-group">
            <span class="input-group-addon">Symbol&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <input type="text" class="form-control" ng-model="stockPurchasedUpdate.symbol" required placeholder="Symbol">
          </div>
          <div class="input-group">
            <span class="input-group-addon">Price&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <input type="text" class="form-control" ng-model="stockPurchasedUpdate.priceBought" required placeholder="Price">
          </div>
          <div class="input-group">
            <span class="input-group-addon">Shares Bought</span>
            <input type="text" class="form-control" ng-model="stockPurchasedUpdate.shares"required placeholder="Shares Bought">
          </div>          
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn">Submit Edit</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="editSoldModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" ng-click="modalClose()">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h3 class="text-center">Edit Sold Form</h3>
        <form action="" class="form-group">
          <input type="text" class="form-control" required placeholder="Name">
          <input type="text" class="form-control" required placeholder="Symbol">
          <input type="text" class="form-control" required placeholder="Price">        
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn">Submit Edit</button>
        <button class="btn">Delete Stock Sold</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="sellModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" ng-click="modalClose()">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h3 class="text-center">Sell Form</h3>
        <form action="" class="form-group">
          <input type="text" class="form-control" required placeholder="Shares sold">
          <input type="text" class="form-control" required placeholder="Price">         
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn">Submit</button>
      </div>
    </div>
  </div>
</div>
